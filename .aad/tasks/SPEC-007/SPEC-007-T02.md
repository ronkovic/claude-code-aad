# SPEC-007-T02: CompletionDetector実装

## 複雑度: M

## 実装内容
- `application/src/loop_engine/completion_detector.rs` に `CompletionDetector` を実装
- 正規表現パターンマッチング機能（`regex` クレート使用）
- `config/completion-patterns.json` の読み込み
- 複数パターンの OR 条件サポート
- ReDoS 攻撃への対策

## 変更ファイル
- `crates/application/src/loop_engine/completion_detector.rs`（新規）
- `config/completion-patterns.json`（新規）
- `crates/application/Cargo.toml`（regex依存追加）

## テストケース
- 単一パターンマッチングテスト
- 複数パターンの OR 条件テスト
- マッチしない場合のテスト
- 空パターンのエラーハンドリング
- パフォーマンステスト（10ms以内）
- ReDoS脆弱性テスト

## 依存関係
- なし

## 受け入れ基準
- [ ] AC-2.1: `config/completion-patterns.json` ファイルが存在する
- [ ] AC-2.2: `application/src/loop_engine/completion_detector.rs` が実装されている
- [ ] AC-2.3: 正規表現パターンマッチングが動作する
- [ ] AC-2.4: 完了メッセージ（例: `"Task completed successfully"`）が検出される
- [ ] AC-2.5: 複数パターンの OR 条件が設定可能である
- [ ] AC-2.6: パターンにマッチしない場合は未完了と判定される

## 実装時の注意点（過去の学びから）
- 完了パターン検出時間が10ms以内であることをテストで検証
- `regex` クレートの`RegexSet`を使用して複数パターンの効率的な検索を実現
- Clippy即時実行を徹底（SPEC-006の学び）

## GitHub Issue
- 未作成
