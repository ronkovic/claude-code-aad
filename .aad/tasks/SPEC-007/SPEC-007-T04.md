# SPEC-007-T04: loop コマンド実装

## 複雑度: M

## 実装内容
- `cli/src/commands/loop_cmd.rs` の実装
- `aad loop <spec-id>` コマンド
- `--resume` オプション（中断したループの再開）
- `Ctrl+C` ハンドリング（状態保存して中断）
- ループ進捗のコンソール表示

## 変更ファイル
- `crates/cli/src/commands/loop_cmd.rs`（新規）
- `crates/cli/src/commands/mod.rs`（loop_cmdモジュール追加）
- `crates/cli/src/main.rs`（loopサブコマンド追加）

## テストケース
- loop コマンド起動テスト
- --resume オプションテスト
- Ctrl+C中断テスト（手動）
- 状態保存・復元テスト
- 不正なspec-id指定時のエラーハンドリング

## 依存関係
- SPEC-007-T01（LoopEngine基盤）
- SPEC-007-T02（CompletionDetector）
- SPEC-007-T03（タスク進行ロジック）

## 受け入れ基準
- [ ] AC-4.1: `cli/src/commands/loop_cmd.rs` が実装されている
- [ ] AC-4.2: `aad loop SPEC-001` でループが開始される
- [ ] AC-4.3: `aad loop SPEC-001 --resume` で中断したループを再開できる
- [ ] AC-4.4: `Ctrl+C` で中断できる（状態は保存される）
- [ ] AC-4.5: ループ進捗がコンソールに表示される

## 実装時の注意点（過去の学びから）
- `tokio::signal::ctrl_c()` を使用してシグナルハンドリング
- 状態保存は必ず統合テストで確認（SPEC-005の学び）
- clapのderive APIでサブコマンドを定義（SPEC-003の実装パターン）

## GitHub Issue
- 未作成
