# SPEC-007-T01: LoopEngine基盤実装

## 複雑度: M

## 実装内容
- `application/src/loop_engine/mod.rs` に `LoopEngine` 構造体を定義
- タスクキュー（`VecDeque<TaskId>`）の管理機能
- `run_loop()` メソッドの実装
- 現在実行中のタスク追跡
- ループ状態の永続化機能（`.aad/loop-state.json`）

## 変更ファイル
- `crates/application/src/loop_engine/mod.rs`（新規）
- `crates/application/src/lib.rs`（loop_engineモジュール追加）
- `crates/domain/src/entities/loop_state.rs`（新規、LoopStateエンティティ）

## テストケース
- タスクキューの初期化テスト
- タスクの追加・取得テスト
- ループ状態の保存・復元テスト
- 空キューの処理テスト
- 並行アクセステスト

## 依存関係
- なし

## 受け入れ基準
- [ ] AC-1.1: `LoopEngine` 構造体が定義されている
- [ ] AC-1.2: `run_loop(spec_id)` メソッドが実装されている
- [ ] AC-1.3: タスクキュー（`VecDeque<TaskId>`）が管理されている
- [ ] AC-1.4: 現在実行中のタスクが追跡される
- [ ] AC-1.5: ループの中断・再開が可能である

## 実装時の注意点（過去の学びから）
- Domain層の型（LoopState）を最初に完全定義してから実装開始（SPEC-004の学び）
- `cargo build`成功後、即座に`cargo clippy -p application`を実行（SPEC-006の学び）
- 状態保存（save）メソッドは統合テストを必須とする（SPEC-005の学び）

## GitHub Issue
- 未作成
