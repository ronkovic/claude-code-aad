# SPEC-007-T05: TUI統合（ループ状態の可視化）

## 複雑度: M

## 実装内容
- `aad monitor` でループ状態を表示
- 現在実行中のタスクをハイライト表示
- タスク進捗率の表示
- 完了・失敗・スキップの色分け（緑・赤・黄）
- リアルタイム更新（1秒ごと）

## 変更ファイル
- `crates/tui/src/widgets/loop_monitor.rs`（新規、LoopMonitorウィジェット）
- `crates/tui/src/app.rs`（ループ状態の取得・表示）

## テストケース
- LoopMonitorウィジェットの構造体作成テスト
- ループ状態の取得テスト
- ハイライト表示のロジックテスト
- 色分けのロジックテスト
- 進捗率計算テスト

## 依存関係
- SPEC-007-T01（LoopEngine基盤）
- SPEC-007-T04（loop コマンド）
- SPEC-006（TUI Dashboard実装）

## 受け入れ基準
- [ ] AC-5.1: `aad monitor` でループ状態が確認できる
- [ ] AC-5.2: 現在実行中のタスクがハイライト表示される
- [ ] AC-5.3: タスク進捗率が表示される
- [ ] AC-5.4: 完了・失敗・スキップが色分けされる（緑・赤・黄）
- [ ] AC-5.5: リアルタイムで状態が更新される

## 実装時の注意点（過去の学びから）
- SPEC-006のWidgetパターンを踏襲する
- `ratatui::widgets::Widget` traitを実装
- 状態更新は1秒ごとのポーリング（SPEC-006のメインループ設計）

## GitHub Issue
- 未作成
