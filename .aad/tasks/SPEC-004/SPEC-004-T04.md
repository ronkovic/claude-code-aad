# SPEC-004-T04: モニターループ実装

## 複雑度: M

## 実装内容

定期的にセッション状態をチェックし、進捗を監視するモニターループを実装します。

- `Orchestrator::monitor_loop()`メソッド実装
- 1秒ごとのセッション状態チェック
- 完了・失敗・タイムアウトの検出
- セッション進捗率の計算
- ログ記録機能

## 変更ファイル

### 変更
- `crates/application/src/orchestration/orchestrator.rs`
  - `monitor_loop()`メソッド追加
  - `check_session_status()`メソッド追加
  - `calculate_progress()`メソッド追加

### 新規作成
- `crates/application/src/orchestration/monitor.rs`（モニター関連ユーティリティ）

## テストケース

- [ ] モニターループが1秒ごとに実行される
- [ ] セッション完了が検出される
- [ ] セッション失敗が検出される
- [ ] タイムアウトが検出される
- [ ] 進捗率が正しく計算される
- [ ] ログが適切に記録される

## 依存関係

- SPEC-004-T01（Orchestrator構造体）
- SPEC-004-T03（セッション起動ロジック）

## 受け入れ基準

- [ ] AC-3.1: `monitor_loop()`メソッドが非同期で実装されている
- [ ] AC-3.2: 1秒ごとに全セッションの状態をチェックする
- [ ] AC-3.3: 完了・失敗・タイムアウトを検出する
- [ ] AC-3.4: セッションの進捗率が計算される
- [ ] AC-3.5: ログが適切に記録される

## 推定時間

4-6時間

## GitHub Issue

作成予定
