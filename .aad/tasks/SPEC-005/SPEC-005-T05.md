# SPEC-005-T05: TokenReplacer実装

## 複雑度: S

## 実装内容

テンプレート文字列のトークン置換機能を実装します。

- `TokenReplacer` 構造体実装
- `replace(template, token_map)` メソッド実装
- `{{token}}` パターンマッチング
- 未定義トークンエラー処理

## 変更ファイル

### 新規作成
- `crates/infrastructure/src/persistence/token_replacer.rs`

### 変更
- `crates/infrastructure/src/persistence/mod.rs`

## テストケース

- [ ] `{{role}}` → `賢者` のような置換が動作する
- [ ] 複数のトークンを同時に置換できる
- [ ] 未定義トークンの場合はエラーを返す
- [ ] トークンが存在しない場合はそのまま返す
- [ ] ネストされたトークンはエラーを返す

## 依存関係

- SPEC-005-T01（persistence基盤）

## 受け入れ基準

- [ ] AC-5.1: `infrastructure/src/persistence/token_replacer.rs` が実装されている
- [ ] AC-5.2: `replace(template, token_map)` メソッドが実装されている
- [ ] AC-5.3: `{{role}}` → `賢者` のような置換が動作する
- [ ] AC-5.4: 未定義トークンの場合はエラーを返す
- [ ] AC-5.5: ネストされたトークンは非対応（エラー）

## 推定時間

2-4時間

## GitHub Issue

#45
