# SPEC-003-T01: CLI クレート初期化

## 基本情報

| 項目 | 内容 |
|------|------|
| タスクID | SPEC-003-T01 |
| SPEC | SPEC-003 |
| 複雑度 | S（1-4時間） |
| 優先度 | Must |
| 依存 | SPEC-001, SPEC-002 |
| 担当 | 未アサイン |

---

## 概要

`crates/cli/` ディレクトリに cli クレートを作成し、CLI 基盤を提供する。`clap` クレートをderive feature有効で依存に含める。

---

## 作業内容

### 1. CLI クレート作成
```bash
mkdir -p crates/cli/src
```

### 2. Cargo.toml 作成
```toml
[package]
name = "cli"
version = "0.1.0"
edition = "2021"

[[bin]]
name = "aad"
path = "src/main.rs"

[dependencies]
clap = { version = "4.5", features = ["derive"] }
domain = { path = "../domain" }
application = { path = "../application" }
infrastructure = { path = "../infrastructure" }
anyhow = "1.0"
```

### 3. main.rs スケルトン作成
```rust
use clap::Parser;

#[derive(Parser)]
#[command(name = "aad")]
#[command(about = "AI駆動開発ツール", long_about = None)]
struct Cli {
    #[command(subcommand)]
    command: Commands,
}

#[derive(Subcommand)]
enum Commands {
    // TODO: サブコマンドを追加
}

fn main() -> anyhow::Result<()> {
    let cli = Cli::parse();

    match cli.command {
        // TODO: コマンド実装
    }

    Ok(())
}
```

### 4. ワークスペースに追加
ルート `Cargo.toml` の `[workspace]` に `"crates/cli"` を追加。

---

## 変更ファイル

| ファイル | 操作 | 説明 |
|----------|------|------|
| `Cargo.toml` | 変更 | workspace members に cli を追加 |
| `crates/cli/Cargo.toml` | 新規 | クレート定義 |
| `crates/cli/src/main.rs` | 新規 | メインエントリポイント |

---

## 受け入れ基準

- [ ] AC-1.1: `crates/cli/Cargo.toml` が存在する
- [ ] AC-1.2: `crates/cli/src/main.rs` が存在する
- [ ] AC-1.3: `clap` クレートが依存に含まれている（derive feature 有効）
- [ ] AC-1.4: `cargo build -p cli` が成功する

---

## テストコマンド

```bash
# ビルド確認
cargo build -p cli

# バイナリ実行確認
cargo run -p cli -- --help
```

---

## 期待結果

```bash
$ cargo run -p cli -- --help
AI駆動開発ツール

Usage: aad <COMMAND>

Commands:
  help  Print this message or the help of the given subcommand(s)

Options:
  -h, --help  Print help
```

---

## 備考

- この段階ではサブコマンドは未実装
- T02でサブコマンド構造を追加
