# SPEC-002-T01: Application クレート初期化

## 基本情報

| 項目 | 内容 |
|------|------|
| タスクID | SPEC-002-T01 |
| SPEC | SPEC-002 |
| 複雑度 | S（1-4時間） |
| 優先度 | Must |
| 依存 | SPEC-001（完了済み） |
| 担当 | 未アサイン |

---

## 概要

`crates/application/` ディレクトリに application クレートを作成し、ユースケース層の基盤を提供する。`domain` クレートへの依存を定義する。

---

## 作業内容

### 1. クレート作成
- `crates/application/Cargo.toml` を作成
- `crates/application/src/lib.rs` を作成
- ワークスペースの `Cargo.toml` に `application` を追加

### 2. 依存関係定義
- `domain` クレートへの依存を追加
- 共通依存（serde, thiserror）を追加

### 3. モジュール構成
```
crates/application/
├── Cargo.toml
└── src/
    ├── lib.rs
    ├── error.rs          # アプリケーション層エラー
    └── workflow/         # ワークフロー関連（T05で実装）
        └── mod.rs
```

---

## 変更ファイル

| ファイル | 操作 | 説明 |
|----------|------|------|
| `Cargo.toml` | 変更 | workspace.members に application を追加 |
| `crates/application/Cargo.toml` | 新規 | application クレート定義 |
| `crates/application/src/lib.rs` | 新規 | ライブラリルート |
| `crates/application/src/error.rs` | 新規 | エラー型定義 |
| `crates/application/src/workflow/mod.rs` | 新規 | ワークフローモジュール（スケルトン） |

---

## 受け入れ基準

- [ ] AC-1.1: `crates/application/Cargo.toml` が存在する
- [ ] AC-1.2: `crates/application/src/lib.rs` が存在する
- [ ] AC-1.3: `cargo build -p application` が成功する
- [ ] AC-1.4: `domain` クレートへの依存が定義されている

---

## テスト項目

| テスト | 内容 | 期待結果 |
|--------|------|----------|
| ビルドテスト | `cargo build -p application` | 成功 |
| 依存テスト | `cargo tree -p application` | domain が依存に含まれる |

---

## テストコマンド

```bash
# ビルド確認
cargo build -p application

# 依存確認
cargo tree -p application

# ワークスペース全体ビルド
cargo build --all
```

---

## 備考

- T02（infrastructure クレート）と並列実行可能
- ワークフローロジックの実装は T05 で行う
