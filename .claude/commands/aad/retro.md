# 振り返り実行

## 🔴 重要: 出力指示

振り返り完了後、**必ず以下の形式で「結果と提案」を目立つように表示すること**:

### 必須出力フォーマット

```
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
報告。振り返りログを作成しました。
パス: .aad/retrospectives/RETRO-SPEC-XXX-YYYYMMDD.md
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

解。今回の学びをCLAUDE.mdに反映できます。
提案。以下の学びの追加を推奨します:
1. [学び1]
2. [学び2]

告。承認が必要です。追加しますか？ (y/n)
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
```

### 理由

- 振り返りの成果物（ログファイル）の場所を明示する
- CLAUDE.md更新の提案を強調する
- ファイル後半の「出力例」だけでは見逃される可能性がある

---

SPEC完了後に振り返りを実行し、学びを蓄積します。

## 実行内容

1. **振り返りログの作成**
   - `.aad/retrospectives/RETRO-[SPEC-ID]-[日付].md` を作成
   - `.aad/templates/RETRO-TEMPLATE.md` をベースに使用
   - 完了したタスク、成功・失敗したアプローチ、学びをまとめる

2. **品質ゲート分析**
   - 各フェーズ（SPEC/TASKS/TDD/REVIEW/RETRO/MERGE）の通過状況を記録
   - カバレッジ、テスト成功率などのメトリクスを集計

3. **CLAUDE.md更新提案**
   - 振り返りから得た学びをCLAUDE.mdの「学びの蓄積」セクションに反映する提案を作成
   - 人間が承認後に反映

## 使用方法

```
/aad:retro SPEC-001
```

## 出力例

```
振り返りを実行します: SPEC-001

報告。振り返りログを作成しました。
パス: .aad/retrospectives/RETRO-SPEC-001-20260111.md

解。今回の学びをCLAUDE.mdに反映できます。
提案。以下の学びの追加を推奨します:
1. テストデータのクリーンアップ漏れ対策
2. API設計時の型定義先行アプローチ

告。承認が必要です。追加しますか？ (y/n)
```

## 品質ゲート完了条件

- [ ] .aad/retrospectives/にログが作成されている
- [ ] Keep/Problem/Tryが記載されている
- [ ] 技術的な学びが明記されている
- [ ] CLAUDE.md更新提案がある

## 関連コマンド

- `/aad:tasks` - タスク分割
- `/aad:status` - 進捗確認
- `/aad:handoff` - ハンドオフドキュメント作成

## 注意事項

- 振り返りは各SPEC完了後に必ず実行してください
- 学びは具体的に記録し、再現可能な形式で記述してください
- 失敗したアプローチも貴重な知見です。隠さず記録してください
